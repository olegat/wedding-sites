<IfModule mod_deflate.c>

  # Compress text-based assets
  AddOutputFilterByType DEFLATE
    application/javascript
    application/json
    application/xml
    image/svg+xml
    text/css
    text/html
    text/javascript
    text/plain

  # Avoid compressing binary files
  SetEnvIfNoCase Request_URI \
    \.(?:gif|jpe?g|png|webp|avif|mp4|woff2?)$ no-gzip

</IfModule>

<IfModule mod_headers.c>
  Header append Vary Accept-Encoding
</IfModule>
